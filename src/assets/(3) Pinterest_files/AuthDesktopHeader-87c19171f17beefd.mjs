"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[82952],{334589:(e,t,i)=>{i.d(t,{Z:()=>s});function s(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},406718:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(340523),n=i(554786),r=i(149722),o=i(785059),l=i(199677);function a(e){let t,i;let a=(0,n.HG)(),{checkExperiment:d}=(0,s.F)(),c=(0,o.Z)(),h=(0,r.Z)(),u=(0,l.lJ)(h,c);a?(t=d("web_sce_organic_pinbuilder_dep").anyEnabled,i=d("web_sce_monetized_pinbuilder_dep").anyEnabled):(t=d("mweb_sce_organic_pinbuilder_dep").anyEnabled,i=d("mweb_sce_monetized_pinbuilder_dep").anyEnabled);let p=d("uid_sce_lightswitch_advertisers").anyEnabled;return!u&&((e&&(d("sce_lightswitch_organic"),d("sce_lightswitch_monetized")),a)?!!(t||i||p):t||i)}},568803:(e,t,i)=>{i.d(t,{Z:()=>s});function s(e){return"object"==typeof e&&null!==e&&"url"in e&&"media"in e}},433058:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(667294),n=i(214877),r=i(525364);let o=e=>{let t=(0,s.useRef)(!1),{logContextEvent:i}=(0,n.v)(),{viewType:o,viewParameter:l}=(0,r.SU)();(0,s.useEffect)(()=>{Object.entries(e).length>0&&!t.current&&o&&(i({event_type:13,view_type:o,view_parameter:l,...e}),t.current=!0)})}},785059:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(340523),n=i(446653),r=i(998577);let o=()=>{let{checkExperiment:e}=(0,s.F)(),t=(0,n.K)(),{activeProfile:i}=t||{},o=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,r.Z)(t?.profiles||[]),{anyEnabled:a}=e("useorbacroutematcher_in_useorbacactingas");return o&&(!a||l)&&i&&(i.viewerMeetsMfaRequirement||(i.permissions||[]).includes("OWNER"))?i:Object.freeze({})}},199677:(e,t,i)=>{i.d(t,{D3:()=>d,DX:()=>l,KY:()=>c,Ms:()=>s,N1:()=>h,_P:()=>o,lJ:()=>r,nl:()=>n,q6:()=>a});let s=(e,t)=>{let i=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(i=t.user.username),i},n=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),r=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",o=(e,t,i)=>i&&i.user&&t&&t.isAuth&&i.id!==t.id?i.user.merchantId:e.advertiser?.merchant_id,l=(e,t,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,a=(e,t,i)=>!!(e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===t),d=(e,t,i)=>!!(a(e,t,i)||e&&e.isAuth&&t===e.id),c=(e,t,i)=>d(e,t&&t.owner&&t.owner.id||"",i);function h(e,t,i){return d(e,t?t.id:"",i)}},98769:(e,t,i)=>{i.r(t),i.d(t,{Header:()=>J,default:()=>X});var s=i(667294),n=i(616550),r=i(883119),o=i(690601),l=i(334589),a=i(406718),d=i(568803),c=i(920434),h=i(619370),u=i(705079),p=i(140017),_=i(96157),x=i(729817),b=i(340523),m=i(5859),f=i(193163),g=i(623409),j=i(624797),y=i(794109),w=i(495716),v=i(214877),S=i(401429),P=i(97630),A=i(785893);let T=({isSelected:e})=>{let t=(0,p.ZP)(),{logContextEvent:i}=(0,v.v)(),o=(0,a.Z)(!0),d=(0,s.useRef)(null),c=(0,s.useRef)(null),[h,u]=(0,s.useState)(!1),_=(0,n.k6)(),x=e=>{i({event_type:101,component:13988,element:e}),u(!1)};return(0,A.jsxs)(s.Fragment,{children:[(0,A.jsx)(r.xu,{ref:d,"data-test-id":"create-tab",children:(0,A.jsx)(P.Z,{contextData:{event:101,component:8,element:12969},iconEnd:o?void 0:"arrow-down",isSelected:e,onClick:e=>{o?(i({event_type:101,component:13988,element:10949}),e.preventDefault(),_.push({pathname:(0,l.Z)(o),state:{entry_type:"navbar_plus_button"}})):u(e=>!e)},role:o?"link":"button",text:t._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar')})}),d&&(0,A.jsx)(S.Z,{eligibleIds:[504669],eligibleTypes:[8],placementId:1000109,children:({complete:e,dismiss:t,experience:i})=>{let{display_data:s}=i;return c.current={complete:e},s?.disappear_time&&setTimeout(()=>{t()},s.disappear_time),(0,A.jsx)(r.xu,{zIndex:new r.Ry(10),children:(0,A.jsx)(r.Li,{accessibilityLabel:"PopoverEducational",anchor:d.current,idealDirection:"down",message:s?.text,onDismiss:()=>{}})})}}),h&&(0,A.jsxs)(r.Lt,{anchor:d.current,id:"header-create-dropdown",idealDirection:"down",onDismiss:()=>{u(!1)},zIndex:new r.Ry(1e3),children:[(0,A.jsx)(r.Lt.Link,{dataTestId:"create-idea-pin",href:"/idea-pin-builder/",onClick:()=>x(10949),option:{value:"ideaPin",label:t._('Create Idea Pin', 'header.headerCreateMenu.ideaPinBtn', 'Create Idea Pin button')}}),(0,A.jsx)(r.Lt.Link,{dataTestId:"create-static-pin",href:"/pin-builder/",onClick:()=>x(10643),option:{value:"pin",label:t._('Create Pin', 'header.headerCreateMenu.pinBtn', 'Create Pin button')}})]})]})};var I=i(677801),C=i(32810),Z=i(477458),k=i(983983);function z({tabs:e}){let t=(0,p.ZP)(),[i,n]=(0,s.useState)(!1),{hovered:o,onMouseEnter:l,onMouseLeave:a}=(0,Z.Z)(),d=(0,s.useRef)(),c=e.find(e=>e.isSelected);c||(c=e.find(e=>"home"===e.key));let h=()=>n(!1);return(0,A.jsxs)(s.Fragment,{children:[(0,A.jsx)(r.xu,{ref:d,color:i?"dark":o?"secondary":void 0,"data-test-id":"HeaderCollapsedTabs",display:"inlineBlock",flex:"none",height:48,marginStart:2,minWidth:60,onMouseEnter:l,onMouseLeave:a,rounding:6,children:(0,A.jsx)(r.iP,{fullHeight:!0,onTap:()=>n(!i),rounding:6,children:(0,A.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"14px 14px",whiteSpace:"nowrap"}},display:"flex",flex:"none",justifyContent:"center",children:[(0,A.jsx)(r.xv,{align:"center",color:i?"inverse":"default",overflow:"normal",weight:"bold",children:c?.text}),(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"1px"}},marginStart:2,children:(0,A.jsx)(r.JO,{accessibilityLabel:t._('Open tab menu', 'header.tabMenu.downArrow', 'accessibility label for icon indicating more tabs are available in a menu'),color:i?"inverse":"default",icon:"arrow-down",size:12})})]})})}),i&&(0,A.jsx)(r.xu,{"data-test-id":"HeaderCollapsedTabsMenu",children:(0,A.jsx)(r.Lt,{anchor:d.current,disableMobileUI:!0,id:"HeaderCollapsedTabsMenu",onDismiss:h,zIndex:new r.H3([new r.Ry(k.fe)]),children:e.map(({isSelected:e,key:i,text:s,url:n})=>(0,A.jsx)(r.Lt.Link,{href:n,onClick:h,option:{value:i,label:s},children:(0,A.jsxs)(r.kC,{alignItems:"center",width:"100%",children:[(0,A.jsx)(r.kC.Item,{flex:"grow",children:(0,A.jsx)(r.xv,{weight:"bold",children:s})}),(0,A.jsx)(r.JO,{accessibilityLabel:t._('Selected option', 'flyoutMenu.selectedOptionCheckmark', 'Accessibility label for checkmark icon indicating which option is currently selected'),color:"default",icon:e?"check":void 0,inline:!0})]})},i))})})]})}var B=i(4058),E=i(276235),R=i(757640);function L({children:e,isSelected:t}){let{isLoaded:i,data:s}=(0,R.Z)({name:"ApiResource",options:{url:"/v3/feeds/homefeed/badge/"},noCache:!0});return e(!!(i&&s)&&!t)}function H({anchor:e}){let t=(0,p.ZP)();return(0,A.jsx)(r.Li,{anchor:e,idealDirection:"down",message:t._('Your home feed will show ideas for your new interests', 'Flyout message on Pinterest logo on Header', 'Flyout message on Pinterest logo on Header'),onDismiss:()=>{}})}var D=i(249222),O=i(509474),U=i(433058),F=i(454051);function M({isSelected:e}){let t=(0,p.ZP)();(0,U.Z)({component:8,element:11674});let i=t._('Explore', 'header.section.exploreTab', 'visual label for Explore tab button in nav bar');return(0,A.jsx)(P.Z,{contextData:{event:101,component:8,element:11674},dataTestId:"today-tab",isSelected:e,showNotifBadge:!0,text:i,url:(0,F.tG)()})}var N=i(19549),q=i(909846),W=i(917198);function K(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class J extends s.Component{constructor(e){super(e),K(this,"mounted",!1),K(this,"iconRoutes",{bag:"shop_pins",explore:"discover",home:"/",profile:this.props.viewer.username,search:"search",today:"today",create:this.props.isIdeaPinRenamingEnabled?"pin-creation-tool":"idea-pin-builder"}),K(this,"logoButtonRef",(0,s.createRef)()),K(this,"profileRef",(0,s.createRef)()),K(this,"getCollapsedTabList",()=>[{key:"home",text:this.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),url:"/"},...this.props.isTodayTabEligible?[{key:"explore",text:this.props.i18n._('Explore', 'header.section.exploreTab', 'visual label for Explore tab button in nav bar'),url:(0,F.tG)()}]:[],{key:"create",text:this.props.i18n._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar'),url:(0,l.Z)(this.props.isIdeaPinRenamingEnabled)}]),K(this,"getSubpage",e=>{if("/"===e||""===e)return"home";let t=e.split("/",2)[1];if(t&&this.iconRoutes){for(let e of Object.keys(this.iconRoutes))if(t===this.iconRoutes[e])return e}return null}),K(this,"handleResize",(0,c.Z)(()=>{if(this.mounted){let e=document.getElementById("searchBoxContainer")?.offsetWidth||0;this.setState({searchIconOnly:e<=300}),window.innerWidth<850&&this.props.requestContext?this.setState({shrinkSearchbox:!0}):this.state.shrinkSearchbox&&this.setState({searchIconOnly:!1,shrinkSearchbox:!1})}},100)),K(this,"fetchUserAccounts",()=>{let{userAccountsRetrieved:e,viewer:t}=this.props;t.isAuth&&(0,x.dD)(t).then(t=>{e(t)})}),this.state={headerIconExperience:null,searchIconOnly:!1,selected:this.getSubpage(e.location.pathname),showLeftTabs:!0,showToolTip:!1,shrinkSearchbox:!1}}componentDidMount(){let{headerButtonContext:e}=this.props;this.mounted=!0,this.fetchUserAccounts(),this.handleResize(),window.addEventListener("resize",this.handleResize),(0,s.startTransition)(()=>{e.setLogoButtonRef(this.logoButtonRef.current)})}componentDidUpdate(e){let{location:t,showToolTipExp:i}=this.props;if(e.location.pathname!==t.pathname){let e=this.getSubpage(t.pathname);this.setState({selected:e})}e.showToolTipExp===i||this.state.showToolTip||this.setState({showToolTip:!0})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.mounted=!1}renderSearchBox(){let{history:e}=this.props,{searchIconOnly:t,shrinkSearchbox:i}=this.state;return e?.push?(0,A.jsx)(w.Z,{handleIconOnlyChange:e=>this.setState({showLeftTabs:t&&e}),iconOnly:t,widthType:i?"shrink":void 0}):null}renderButtons(){let{currentSite:e,headerButtonContext:t,isPersistentArrUpsellEnabled:i,isVerticalNavEnabled:n}=this.props,{headerIconExperience:o,selected:l,showLeftTabs:a,showToolTip:d,shrinkSearchbox:c}=this.state;return n?(0,A.jsx)(r.xu,{alignItems:"center",column:12,display:"flex",height:56,children:this.renderSearchBox()}):(0,A.jsxs)(r.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,A.jsxs)(r.xu,{children:[(0,A.jsx)(r.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,A.jsx)(E.Z,{headerIconExperience:o},"HomeButton")}),d&&(0,A.jsx)(h.default,{anchor:this.logoButtonRef.current,experienceIds:[500613],noClickToDismiss:!0,placementId:19,shouldTimeoutDismiss:!0}),t.isTooltipOnLogoButtonShown&&(0,A.jsx)(H,{anchor:this.logoButtonRef.current})]}),!c&&a&&(0,A.jsxs)(s.Fragment,{children:[(0,A.jsx)(L,{isSelected:"home"===l,children:e=>(0,A.jsx)(P.Z,{dataTestId:"home-tab",isSelected:"home"===l,showNotifBadge:e,text:this.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),url:"/"})}),this.props.isTodayTabEligible&&(0,A.jsx)(M,{isSelected:"today"===l}),(0,A.jsx)(T,{isSelected:"create"===l})]}),c&&a&&(0,A.jsx)(z,{tabs:this.getCollapsedTabList().map(e=>({isSelected:l===e.key,...e}))}),this.renderSearchBox(),(0,A.jsxs)(r.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:[(0,A.jsx)(O.F,{value:{currentSite:e},children:(0,A.jsx)(N.Z,{})}),(0,A.jsxs)(s.Fragment,{children:[(0,A.jsx)(r.xu,{ref:this.profileRef,children:(0,A.jsx)(D.Z,{children:(0,A.jsx)(I.Z,{isSelected:"profile"===l})})}),(0,A.jsx)(u.Z,{currentSite:e,isPersistentArrUpsellEnabled:i})]})]})]})}renderHomeButtonAndAccountSwitcher(){let{currentSite:e,headerButtonContext:t,isPersistentArrUpsellEnabled:i}=this.props,{headerIconExperience:n,selected:o,showToolTip:l}=this.state;return(0,A.jsxs)(r.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,A.jsxs)(r.xu,{children:[(0,A.jsx)(r.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,A.jsx)(E.Z,{headerIconExperience:n},"HomeButton")}),l&&(0,A.jsx)(h.default,{anchor:this.logoButtonRef.current,experienceIds:[500613],noClickToDismiss:!0,placementId:19,shouldTimeoutDismiss:!0}),t.isTooltipOnLogoButtonShown&&(0,A.jsx)(H,{anchor:this.logoButtonRef.current})]}),(0,A.jsx)(r.xu,{flex:"grow"}),(0,A.jsx)(r.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,A.jsxs)(s.Fragment,{children:[(0,A.jsx)(r.xu,{ref:this.profileRef,children:(0,A.jsx)(D.Z,{children:(0,A.jsx)(I.Z,{isSelected:"profile"===o})})}),(0,A.jsx)(u.Z,{currentSite:e,isPersistentArrUpsellEnabled:i})]})})]})}renderSsoPageHeader(){let{headerIconExperience:e}=this.state,{i18n:t}=this.props;return(0,A.jsxs)(r.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,A.jsx)(r.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,A.jsx)(E.Z,{headerIconExperience:e},"HomeButton")}),(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{letterSpacing:"-1px"}},children:(0,A.jsx)(r.X6,{accessibilityLevel:2,color:"default",overflow:"normal",size:"400",children:t._('Business', 'authHeader.logoText.business', 'Business text for the sso signup page header')})})]})}renderUnsubscribePageHeader(){let{headerIconExperience:e}=this.state,{history:t,i18n:i,trackInteraction:s}=this.props;return(0,A.jsxs)(r.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,A.jsx)(r.xu,{children:(0,A.jsx)(E.Z,{headerIconExperience:e},"HomeButton")}),(0,A.jsx)(r.xu,{flex:"grow"}),(0,A.jsx)(r.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,A.jsx)(r.iP,{onTap:()=>{t.push("/"),s({action:"click",item:"back-to-pinterest",within:"unsubscribe-page"})},rounding:2,tapStyle:"compress",children:(0,A.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,A.jsx)(r.xv,{inline:!0,size:"300",weight:"bold",children:i._('Back to Pinterest', 'header.backToPinterest.section', 'Button that allows one-click going back to Pinterest homefeed from email unsubscribe page')}),(0,A.jsx)(I.Z,{isSelected:!1,noNavigation:!0})]})})})]})}renderHeaderContent(){let{location:e,viewer:t,isOnSsoAuthExp:i}=this.props;if((0,_.RU)(e)){let t=(0,j.mB)(e.search);if((0,d.Z)(t))return this.renderHomeButtonAndAccountSwitcher()}else if((0,_.OK)(e)&&t.isLimitedLogin)return this.renderUnsubscribePageHeader();else if(i&&(0,_.nU)(e))return this.renderSsoPageHeader();return this.renderButtons()}render(){let{headerShadowContext:{isScrolled:e,subheaderShadow:t},nags:i,showCloseupTopOneBar:s}=this.props;return(0,A.jsxs)(r.xu,{color:"default",column:12,"data-test-id":"header-background",children:[i,(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{...null===t&&e&&!s?k.Rz:{}}},children:(0,A.jsx)(r.kC,{direction:"column",height:k.cI,justifyContent:"start",width:"100%",children:(0,A.jsx)(r.xu,{alignItems:"center",column:12,display:"flex",flex:"grow",paddingX:4,paddingY:1,children:this.renderHeaderContent()})})})]})}}function X(e){let t=(0,p.ZP)(),i=(0,W.X2)(),s=(0,m.B)(),{checkExperiment:r}=(0,b.F)(),{userAccountsRetrieved:l}=(0,y.N)(),d=(0,g.Z)(),c=(0,q.t)(),{showTopOneBar:h}=(0,o.S)(),{isFbAuthOnlyUser:u}=c;r("social_growth_holdout_2023_h2"),r("social_experience_holdout_2024_h1"),r("social_experience_holdout_2024_h2");let _=(0,a.Z)(!0),x=(0,f.bl)(),j=i&&Object.keys(i).map(e=>i[e]).filter(e=>e.showTooltip).length>0;return(0,A.jsx)(J,{...e,headerButtonContext:(0,C.p)(),headerShadowContext:(0,B.WQ)(),history:(0,n.k6)(),i18n:t,isIdeaPinRenamingEnabled:_,isOnSsoAuthExp:r("web_sso_auth_enabled").anyEnabled,isPersistentArrUpsellEnabled:u,isTodayTabEligible:x,location:(0,n.TH)(),requestContext:s,showCloseupTopOneBar:h,showPersonalBoutique:e.viewer.show_personal_boutique??!1,showToolTipExp:j,trackInteraction:d,userAccountsRetrieved:l})}},19549:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(667294),n=i(149722),r=i(474373),o=i(901551),l=i(785893);function a(){let{should_show_messaging:e}=(0,n.Z)();return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(r.Z,{}),e&&(0,l.jsx)(o.Z,{})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopHeader-87c19171f17beefd.mjs.map